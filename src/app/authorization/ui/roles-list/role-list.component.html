<div class="animated fadeIn dt" #dtContainer>
  <div class="row mx-auto my-2">
    <form class='col-md-6 input-group my-2'>
      <input type="text" class="form-control" placeholder='Search...' [(ngModel)]='searchModel' />
      <div class="input-group-append">
        <button class="input-group-text cursor-pointer btn-light" (click)='search()'>
          <span class="fas fa-search"></span>
        </button>
      </div>
    </form>
    <div class="col-md-6 ml-auto my-2 row flex-row-reverse">
      <button class="btn btn-primary ml-2" routerLink="create">
        <i class="fa fa-plus"></i> Create role
      </button>
      <button class="btn btn-light ml-2" routerLink="manage" 
        [disabled]="selectedItemIds.length == 0" (click)="delete()">
        <i class="fa fa-trash"></i> Delete roles
      </button>
    </div>
  </div>
  <div class='row mx-auto'>
    <p class='h3 text-muted text-light ml-auto'>Total: {{pagination.total}}</p>
  </div>
  <div class='card'>
    <div class='card-header'>
      Roles
    </div>
    <div class='card-body p-0'>
      <ngx-datatable class="material striped" [rows]="data" [columns]="[
        { select: 'select' },
        { name: 'name' },
        { description: 'description' },
        { level: 'level' }
      ]" [columnMode]="'force'" [headerHeight]="50" [footerHeight]="50" [rowHeight]="43" [externalPaging]="true"
        [count]="pagination.total" [offset]="getOffsetFromPagination()" [limit]="pagination.per_page"
        [selected]="selectedRoles" [selectionType]="'checkbox'" (activate)="onActivate($event)" 
        (select)="onSelect($event)" (page)="setPage($event)">
            <ngx-datatable-column
            [width]="30"
            [sortable]="false"
            [canAutoResize]="false"
            [draggable]="false"
            [resizeable]="false"
            [headerCheckboxable]="true"
            [checkboxable]="true"
          ></ngx-datatable-column>

        <ngx-datatable-column name="Name" [flexGrow]="3" [minWidth]="200">
          <ng-template let-value="value" let-row='row' ngx-datatable-cell-template>
            <a routerLink='{{row.id}}'>@{{ value }}</a>
          </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="Description" [flexGrow]="3" [minWidth]="200">
          <ng-template let-value="value" ngx-datatable-cell-template>
            {{ value }}
          </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column name="Level" [flexGrow]="3" [minWidth]="200">
          <ng-template let-value="value" ngx-datatable-cell-template>
            {{ value }}
          </ng-template>
        </ngx-datatable-column>
      </ngx-datatable>
    </div>
  </div>
</div>